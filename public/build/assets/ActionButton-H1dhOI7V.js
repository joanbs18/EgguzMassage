import{K as r,a4 as n}from"./asyncToGenerator-DX3FKLjN.js";import{r as o}from"./main-TMu7r4j7.js";import{e as t}from"./context-DXfS8Ex2.js";import{B as a,a as e}from"./ContextIsolator-BekeklBG.js";const s=new r("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),i=new r("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),m=new r("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),f=new r("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),c=new r("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),l=new r("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),u={zoom:{inKeyframes:s,outKeyframes:i},"zoom-big":{inKeyframes:m,outKeyframes:f},"zoom-big-fast":{inKeyframes:m,outKeyframes:f},"zoom-left":{inKeyframes:new r("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new r("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new r("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new r("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:c,outKeyframes:l},"zoom-down":{inKeyframes:new r("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new r("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},p=(r,n)=>{const{antCls:o}=r,a=`${o}-${n}`,{inKeyframes:e,outKeyframes:s}=u[n];return[t(a,e,s,"zoom-big-fast"===n?r.motionDurationFast:r.motionDurationMid),{[`\n        ${a}-enter,\n        ${a}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:r.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${a}-leave`]:{animationTimingFunction:r.motionEaseInOutCirc}}]};function y(r){return!!(null==r?void 0:r.then)}const g=r=>{const{type:t,children:s,prefixCls:i,buttonProps:m,close:f,autoFocus:c,emitEvent:l,isSilent:u,quitOnNullishReturnValue:p,actionFn:g}=r,O=o.useRef(!1),K=o.useRef(null),[w,d]=n(!1),v=function(){null==f||f.apply(void 0,arguments)};o.useEffect((()=>{let r=null;return c&&(r=setTimeout((()=>{var r;null===(r=K.current)||void 0===r||r.focus({preventScroll:!0})}))),()=>{r&&clearTimeout(r)}}),[]);return o.createElement(a,Object.assign({},e(t),{onClick:r=>{if(O.current)return;if(O.current=!0,!g)return void v();let n;if(l){if(n=g(r),p&&!y(n))return O.current=!1,void v(r)}else if(g.length)n=g(f),O.current=!1;else if(n=g(),!y(n))return void v();(r=>{y(r)&&(d(!0),r.then((function(){d(!1,!0),v.apply(void 0,arguments),O.current=!1}),(r=>{if(d(!1,!0),O.current=!1,!(null==u?void 0:u()))return Promise.reject(r)})))})(n)},loading:w,prefixCls:i},m,{ref:K}),s)};export{g as A,p as i};
